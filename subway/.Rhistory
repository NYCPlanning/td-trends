hovermode='x unified')
p
p=plot_ly()
p=p %>%
add_trace(name='Daily Ridership',
type='bar',
x=df[['Date']],
y=df[['Subway']],
marker=list(color='rgba(114,158,206,0.5)'),
showlegend=T,
hovertemplate='%{y:,.0f}')
p=p %>%
add_trace(name='7-Day Moving Average',
type='scatter',
mode='lines',
x=df[['Date']],
y=df[['Subway7DayAverage']],
line=list(color='rgba(237,102,93,0.8)',
width=3),
showlegend=T,
hovertemplate='%{y:,.0f}')
p=p %>%
layout(template='plotly_white',
title=list(text=paste0('<b>Daily Subway Ridership</b>'),
font=list(size=20),
x=0.5,
xanchor='center',
y=0.95,
yanchor='top'),
legend=list(orientation='h',
title=list(text=''),
font=list(size=16),
x=0.5,
xanchor='center',
y=1,
yanchor='bottom'),
margin=list(b=120,
l=80,
r=40,
t=120),
xaxis=list(title=list(text='<b>Date</b>',
font=list(size=14)),
tickfont=list(size=12),
tickformat='%b %Y',
dtick='M6',
range=c(min(df[['Date']])-60,max(df[['Date']])+60),
fixedrange=T,
showgrid=F),
yaxis=list(title=list(text='<b>Ridership</b>',
font=list(size=14)),
tickfont=list(size=12),
rangemode='nonnegative',
fixedrange=T,
showgrid=T,
zeroline=T,
zerolinecolor='rgba(0,0,0,0.2)',
zerolinewidth=2),
hoverlabel=list(font=list(size=14)),
font=list(family='Arial',
color='black'),
dragmode=F,
hovermode='x unified')
p
df[['Date']]
min(df[['Date']])
p=p %>%
layout(template='plotly_white',
title=list(text=paste0('<b>Daily Subway Ridership</b>'),
font=list(size=20),
x=0.5,
xanchor='center',
y=0.95,
yanchor='top'),
legend=list(orientation='h',
title=list(text=''),
font=list(size=16),
x=0.5,
xanchor='center',
y=1,
yanchor='bottom'),
margin=list(b=120,
l=80,
r=40,
t=120),
xaxis=list(title=list(text='<b>Date</b>',
font=list(size=14)),
tickfont=list(size=12),
tickformat='%b %Y',
dtick='M1',
range=c(min(df[['Date']])-1,max(df[['Date']])+1),
fixedrange=T,
showgrid=F),
yaxis=list(title=list(text='<b>Ridership</b>',
font=list(size=14)),
tickfont=list(size=12),
rangemode='nonnegative',
fixedrange=T,
showgrid=T,
zeroline=T,
zerolinecolor='rgba(0,0,0,0.2)',
zerolinewidth=2),
hoverlabel=list(font=list(size=14)),
font=list(family='Arial',
color='black'),
dragmode=F,
hovermode='x unified')
p
p=p %>%
layout(template='plotly_white',
title=list(text=paste0('<b>Daily Subway Ridership</b>'),
font=list(size=20),
x=0.5,
xanchor='center',
y=0.95,
yanchor='top'),
legend=list(orientation='h',
title=list(text=''),
font=list(size=16),
x=0.5,
xanchor='center',
y=1,
yanchor='bottom'),
margin=list(b=120,
l=80,
r=40,
t=120),
xaxis=list(title=list(text='<b>Date</b>',
font=list(size=14)),
tickfont=list(size=12),
tickformat='%b %Y',
dtick='M1',
range=c(min(df[['Date']])-10,max(df[['Date']])+10),
fixedrange=T,
showgrid=F),
yaxis=list(title=list(text='<b>Ridership</b>',
font=list(size=14)),
tickfont=list(size=12),
rangemode='nonnegative',
fixedrange=T,
showgrid=T,
zeroline=T,
zerolinecolor='rgba(0,0,0,0.2)',
zerolinewidth=2),
hoverlabel=list(font=list(size=14)),
font=list(family='Arial',
color='black'),
dragmode=F,
hovermode='x unified')
p
df=read.csv(paste0(path,'subway/Subway7DayAverage.csv'),stringsAsFactors = F,colClasses = c('Date','numeric','numeric'))
p=plot_ly()
p=p %>%
add_trace(name='Daily Ridership',
type='bar',
x=df[['Date']],
y=df[['Subway']],
marker=list(color='rgba(114,158,206,0.5)'),
showlegend=T,
hovertemplate='%{y:,.0f}',
xhoverformat='<b>%b %Y</b>')
p=p %>%
add_trace(name='7-Day Moving Average',
type='scatter',
mode='lines',
x=df[['Date']],
y=df[['Subway7DayAverage']],
line=list(color='rgba(237,102,93,0.8)',
width=3),
showlegend=T,
hovertemplate='%{y:,.0f}')
p=p %>%
layout(template='plotly_white',
title=list(text=paste0('<b>Daily Subway Ridership</b>'),
font=list(size=20),
x=0.5,
xanchor='center',
y=0.95,
yanchor='top'),
legend=list(orientation='h',
title=list(text=''),
font=list(size=16),
x=0.5,
xanchor='center',
y=1,
yanchor='bottom'),
margin=list(b=120,
l=80,
r=40,
t=120),
xaxis=list(title=list(text='<b>Date</b>',
font=list(size=14)),
tickfont=list(size=12),
tickformat='%b %Y',
dtick='M1',
range=c(min(df[['Date']])-10,max(df[['Date']])+10),
fixedrange=T,
showgrid=F),
yaxis=list(title=list(text='<b>Ridership</b>',
font=list(size=14)),
tickfont=list(size=12),
rangemode='nonnegative',
fixedrange=T,
showgrid=T,
zeroline=T,
zerolinecolor='rgba(0,0,0,0.2)',
zerolinewidth=2),
hoverlabel=list(font=list(size=14)),
font=list(family='Arial',
color='black'),
dragmode=F,
hovermode='x unified')
p
df=read.csv(paste0(path,'subway/Subway7DayAverage.csv'),stringsAsFactors = F,colClasses = c('Date','numeric','numeric'))
p=plot_ly()
p=p %>%
add_trace(name='Daily Ridership',
type='bar',
x=df[['Date']],
y=df[['Subway']],
marker=list(color='rgba(114,158,206,0.5)'),
showlegend=T,
hovertemplate='%{y:,.0f}',
xhoverformat='<b>%b %Y</b>')
p=p %>%
add_trace(name='7-Day Moving Average',
type='scatter',
mode='lines',
x=df[['Date']],
y=df[['Subway7DayAverage']],
line=list(color='rgba(237,102,93,0.8)',
width=3),
showlegend=T,
hovertemplate='%{y:,.0f}',
xhoverformat='<b>%b %Y</b>')
p=p %>%
layout(template='plotly_white',
title=list(text=paste0('<b>Daily Subway Ridership</b>'),
font=list(size=20),
x=0.5,
xanchor='center',
y=0.95,
yanchor='top'),
legend=list(orientation='h',
title=list(text=''),
font=list(size=16),
x=0.5,
xanchor='center',
y=1,
yanchor='bottom'),
margin=list(b=120,
l=80,
r=40,
t=120),
xaxis=list(title=list(text='<b>Date</b>',
font=list(size=14)),
tickfont=list(size=12),
tickformat='%b %Y',
dtick='M1',
range=c(min(df[['Date']])-10,max(df[['Date']])+10),
fixedrange=T,
showgrid=F),
yaxis=list(title=list(text='<b>Ridership</b>',
font=list(size=14)),
tickfont=list(size=12),
rangemode='nonnegative',
fixedrange=T,
showgrid=T,
zeroline=T,
zerolinecolor='rgba(0,0,0,0.2)',
zerolinewidth=2),
hoverlabel=list(font=list(size=14)),
font=list(family='Arial',
color='black'),
dragmode=F,
hovermode='x unified')
p
df=read.csv(paste0(path,'subway/Subway7DayAverage.csv'),stringsAsFactors = F,colClasses = c('Date','numeric','numeric'))
p=plot_ly()
p=p %>%
add_trace(name='Daily Ridership',
type='bar',
x=df[['Date']],
y=df[['Subway']],
marker=list(color='rgba(114,158,206,0.5)'),
showlegend=T,
hovertemplate='%{y:,.0f}')
p=p %>%
add_trace(name='7-Day Moving Average',
type='scatter',
mode='lines',
x=df[['Date']],
y=df[['Subway7DayAverage']],
line=list(color='rgba(237,102,93,0.8)',
width=3),
showlegend=T,
hovertemplate='%{y:,.0f}',
xhoverformat='<b>%b %Y</b>')
p=p %>%
layout(template='plotly_white',
title=list(text=paste0('<b>Daily Subway Ridership</b>'),
font=list(size=20),
x=0.5,
xanchor='center',
y=0.95,
yanchor='top'),
legend=list(orientation='h',
title=list(text=''),
font=list(size=16),
x=0.5,
xanchor='center',
y=1,
yanchor='bottom'),
margin=list(b=120,
l=80,
r=40,
t=120),
xaxis=list(title=list(text='<b>Date</b>',
font=list(size=14)),
tickfont=list(size=12),
tickformat='%b %Y',
dtick='M1',
range=c(min(df[['Date']])-10,max(df[['Date']])+10),
fixedrange=T,
showgrid=F),
yaxis=list(title=list(text='<b>Ridership</b>',
font=list(size=14)),
tickfont=list(size=12),
rangemode='nonnegative',
fixedrange=T,
showgrid=T,
zeroline=T,
zerolinecolor='rgba(0,0,0,0.2)',
zerolinewidth=2),
hoverlabel=list(font=list(size=14)),
font=list(family='Arial',
color='black'),
dragmode=F,
hovermode='x unified')
p
df=read.csv(paste0(path,'subway/Subway7DayAverage.csv'),stringsAsFactors = F,colClasses = c('Date','numeric','numeric'))
p=plot_ly()
p=p %>%
add_trace(name='Daily Ridership',
type='bar',
x=df[['Date']],
y=df[['Subway']],
marker=list(color='rgba(114,158,206,0.5)'),
showlegend=T,
hovertemplate='%{y:,.0f}',
xhoverformat='<b>%b %Y</b>')
p=p %>%
layout(template='plotly_white',
title=list(text=paste0('<b>Daily Subway Ridership</b>'),
font=list(size=20),
x=0.5,
xanchor='center',
y=0.95,
yanchor='top'),
legend=list(orientation='h',
title=list(text=''),
font=list(size=16),
x=0.5,
xanchor='center',
y=1,
yanchor='bottom'),
margin=list(b=120,
l=80,
r=40,
t=120),
xaxis=list(title=list(text='<b>Date</b>',
font=list(size=14)),
tickfont=list(size=12),
tickformat='%b %Y',
dtick='M1',
range=c(min(df[['Date']])-10,max(df[['Date']])+10),
fixedrange=T,
showgrid=F),
yaxis=list(title=list(text='<b>Ridership</b>',
font=list(size=14)),
tickfont=list(size=12),
rangemode='nonnegative',
fixedrange=T,
showgrid=T,
zeroline=T,
zerolinecolor='rgba(0,0,0,0.2)',
zerolinewidth=2),
hoverlabel=list(font=list(size=14)),
font=list(family='Arial',
color='black'),
dragmode=F,
hovermode='x unified')
p
df
df=read.csv(paste0(path,'subway/Subway7DayAverage.csv'),stringsAsFactors = F,colClasses = c('Date','numeric','numeric'))
p=plot_ly()
p=p %>%
add_trace(name='Daily Ridership',
type='bar',
x=df[['Date']],
y=df[['Subway']],
marker=list(color='rgba(114,158,206,0.5)'),
showlegend=T,
hovertemplate='%{y:,.0f}',
xhoverformat='<b>%m/%d/%Y</b>')
p=p %>%
layout(template='plotly_white',
title=list(text=paste0('<b>Daily Subway Ridership</b>'),
font=list(size=20),
x=0.5,
xanchor='center',
y=0.95,
yanchor='top'),
legend=list(orientation='h',
title=list(text=''),
font=list(size=16),
x=0.5,
xanchor='center',
y=1,
yanchor='bottom'),
margin=list(b=120,
l=80,
r=40,
t=120),
xaxis=list(title=list(text='<b>Date</b>',
font=list(size=14)),
tickfont=list(size=12),
tickformat='%b %Y',
dtick='M1',
range=c(min(df[['Date']])-10,max(df[['Date']])+10),
fixedrange=T,
showgrid=F),
yaxis=list(title=list(text='<b>Ridership</b>',
font=list(size=14)),
tickfont=list(size=12),
rangemode='nonnegative',
fixedrange=T,
showgrid=T,
zeroline=T,
zerolinecolor='rgba(0,0,0,0.2)',
zerolinewidth=2),
hoverlabel=list(font=list(size=14)),
font=list(family='Arial',
color='black'),
dragmode=F,
hovermode='x unified')
p
df=read.csv(paste0(path,'subway/Subway7DayAverage.csv'),stringsAsFactors = F,colClasses = c('Date','numeric','numeric'))
p=plot_ly()
p=p %>%
add_trace(name='Daily Ridership',
type='bar',
x=df[['Date']],
y=df[['Subway']],
marker=list(color='rgba(114,158,206,0.5)'),
showlegend=T,
hovertemplate='%{y:,.0f}',
xhoverformat='<b>%m/%d/%Y</b>')
p=p %>%
add_trace(name='7-Day Moving Average',
type='scatter',
mode='lines',
x=df[['Date']],
y=df[['Subway7DayAverage']],
line=list(color='rgba(237,102,93,0.8)',
width=3),
showlegend=T,
hovertemplate='%{y:,.0f}',
xhoverformat='<b>%m/%d/%Y</b>')
p=p %>%
layout(template='plotly_white',
title=list(text=paste0('<b>Daily Subway Ridership</b>'),
font=list(size=20),
x=0.5,
xanchor='center',
y=0.95,
yanchor='top'),
legend=list(orientation='h',
title=list(text=''),
font=list(size=16),
x=0.5,
xanchor='center',
y=1,
yanchor='bottom'),
margin=list(b=120,
l=80,
r=40,
t=120),
xaxis=list(title=list(text='<b>Date</b>',
font=list(size=14)),
tickfont=list(size=12),
tickformat='%b %Y',
dtick='M1',
range=c(min(df[['Date']])-10,max(df[['Date']])+10),
fixedrange=T,
showgrid=F),
yaxis=list(title=list(text='<b>Ridership</b>',
font=list(size=14)),
tickfont=list(size=12),
rangemode='nonnegative',
fixedrange=T,
showgrid=T,
zeroline=T,
zerolinecolor='rgba(0,0,0,0.2)',
zerolinewidth=2),
hoverlabel=list(font=list(size=14)),
font=list(family='Arial',
color='black'),
dragmode=F,
hovermode='x unified')
p
source('C:/Users/mayij/Desktop/DOC/GITHUB/td-trends/subway/subway.R', echo=TRUE)
source('C:/Users/mayij/Desktop/DOC/GITHUB/td-trends/subway/DailySubwayChart.R', echo=TRUE)
